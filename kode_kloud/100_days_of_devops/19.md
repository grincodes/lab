
# Quests
xFusionCorp Industries is planning to host two static websites on their infra in Stratos Datacenter. The development of these websites is still in-progress, but we want to get the servers ready. Please perform the following steps to accomplish the task:


a. Install httpd package and dependencies on app server 1.
b. Apache should serve on port 8086.
c. There are two website's backups /home/thor/media and /home/thor/cluster on jump_host. Set them up on Apache in a way that media should work on the link http://localhost:8086/media/ and cluster should work on link http://localhost:8086/cluster/ on the mentioned app server.
d. Once configured you should be able to access the website using curl command on the respective app server, i.e curl http://localhost:8086/media/ and curl http://localhost:8086/cluster/


# Process and solutions

- ssh into app server 1
    ```
        ssh user@host
    ```

- install httpd, php 
    ```
        sudo yum install httpd -y
        sudo systemctl start httpd
    ```

-   update the Listen directive in httpd.conf to serve on 8086
     ```
     sudo sed -i 's/^Listen 80/Listen 8086/' /etc/httpd/conf/httpd.conf
     ```

- copy site files from jump server to app svr 01
    ```
    scp -r /home/thor/media tony@stapp01:/tmp/
    scp -r /home/thor/cluster tony@stapp01:/tmp/

    sudo mv /tmp/media /var/www/html/
    sudo mv /tmp/cluster /var/www/html/
    ```
- add the right permissions
    ```
    sudo chown -R apache:apache /var/www/html/media
    sudo chown -R apache:apache /var/www/html/cluster
    sudo chmod -R 755 /var/www/html/media
    sudo chmod -R 755 /var/www/html/cluster
    ```

- restart httpd apache
    ```
    sudo systemctl start httpd
    sudo systemctl enable httpd
    ```
- check httpd status
    ```
    sudo systemctl status httpd
    ```

-  test sites
    ```
    curl http://localhost:8086/media/
    curl http://localhost:8086/cluster/
    ```
