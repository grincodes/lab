# Quests
xFusionCorp Industries is planning to host a WordPress website on their infra in Stratos Datacenter. They have already done infrastructure configurationâ€”for example, on the storage server they already have a shared directory /vaw/www/html that is mounted on each app host under /var/www/html directory. Please perform the following steps to accomplish the task:


a. Install httpd, php and its dependencies on all app hosts.
b. Apache should serve on port 3002 within the apps.
c. Install/Configure MariaDB server on DB Server.
d. Create a database named kodekloud_db1 and create a database user named kodekloud_aim identified as password Rc5C9EyvbU. Further make sure this newly created user is able to perform all operation on the database you created.
e. Finally you should be able to access the website on LBR link, by clicking on the App button on the top bar. You should see a message like App is able to connect to the database using user kodekloud_aim

# Process and Solutions

#!/bin/bash

sudo yum install httpd -y

sudo systemctl start httpd
sudo systemctl enable httpd


sudo yum install -y mariadb-server

sudo systemctl start mariadb
sudo systemctl enable mariadb
[
    sudo yum install -y mariadb-server mariadb
sudo systemctl start mariadb
sudo systemctl enable mariadb
sudo systemctl status mariadb
]

sudo mariadb < ./scripts.sql

sudo yum install -y  php php-mysqlnd php-cli php-common php-opcache php-gd php-curl php-mbstring php-pdo 

# 1. Update the Listen directive in httpd.conf
sudo sed -i 's/^Listen 80/Listen 8089/' /etc/httpd/conf/httpd.conf

# 2. Restart the service
sudo systemctl restart httpd


$dbname = 'kodekloud_db8';
$dbuser = 'kodekloud_cap';
$dbpass = 'dCV3szSGNA';
$dbhost = 'stdb01';

-- Create the database
CREATE DATABASE kodekloud_db8;

-- Create the user with the specified password
CREATE USER 'kodekloud_joy'@'%' IDENTIFIED BY 'TmPcZjtRQx';

-- Grant all privileges on the new database to the user
GRANT ALL PRIVILEGES ON kodekloud_db8.* TO 'kodekloud_joy'@'%';

-- Apply the changes
FLUSH PRIVILEGES;

-- Exit the shell
EXIT;

